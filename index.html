<h1>Scouting 2018 </h1>

<form id="scoutform">
<p># du match</p>
<input name="matchnb" type="text" id="matchnb">
<p># de l'équipe</p>
<input name="teamnb" type="text" id="teamnb">

<h1>Mode autonome</h1>

<p>Met des cubes sur les switchs</p>
<input type="radio" name="acswitchs" value="oui"> oui<br>
<input type="radio" name="acswitchs" value="non"> non<br>

<p>Met des cubes sur la scale</p>
<input type="radio" name="acscale" value="oui"> oui<br>
<input type="radio" name="acscale" value="non"> non<br>

<p>Avance jusqu'à la ligne</p>
<input type="radio" name="aavance" value="oui"> oui<br>
<input type="radio" name="aavance" value="non"> non<br>

<h1>Teleop</h1>

<p>Manipulation des cubes. *0 = pas de cubes</p>
<p><input type="range" min="0" max="5" value="2" class="slider" id="manipcube" onchange="document.getElementById('mcsval').innerHTML = this.value;" oninput="document.getElementById('mcsval').innerHTML = this.value;"> <b id='mcsval'>2</b></p>

<p>Prend des cubes par terre</p>
<input type="radio" name="cparterre" value="oui"> oui<br>
<input type="radio" name="cparterre" value="non"> non<br>

<p>Prend des cubes au portail</p>
<input type="radio" name="cportail" value="oui"> oui<br>
<input type="radio" name="cportail" value="non"> non<br>
<input type="radio" name="cportail" value="seulement"> seulement au portail<br>

<p>Met des cubes sur les switchs</p>
<input type="radio" name="cswitchs" value="oui"> oui<br>
<input type="radio" name="cswitchs" value="non"> non<br>
<input type="radio" name="cswitchs" value="difficulte"> avec difficulté<br>

<p>Met des cubes sur la scale</p>
<input type="radio" name="cscale" value="oui"> oui<br>
<input type="radio" name="cscale" value="non"> non<br>
<input type="radio" name="cscale" value="difficulte"> avec difficulté<br>

<p>Parking</p>
<input type="radio" name="parking" value="oui"> oui<br>
<input type="radio" name="parking" value="non"> non<br>
<input type="radio" name="parking" value="difficulte"> avec difficulté<br>

<p>Grimper</p>
<input type="radio" name="grimper" value="oui"> oui<br>
<input type="radio" name="grimper" value="non"> non<br>
<input type="radio" name="grimper" value="difficulte"> avec difficulté<br>

<p>Évaluation de la défense</p>
<p><input type="range" min="0" max="5" value="2" class="slider" id="defense" onchange="document.getElementById('defval').innerHTML = this.value;" oninput="document.getElementById('defval').innerHTML = this.value;"> <b id='defval'>2</b></p>

<p>Évaluation de la conduite</p>
<p><input type="range" min="0" max="5" value="2" class="slider" id="conduite" onchange="document.getElementById('condval').innerHTML = this.value;" oninput="document.getElementById('condval').innerHTML = this.value;"> <b id='condval'>2</b></p>

<p>Commentaires</p>
<input name="comments" type="text" id="comments">

</form>

<button onclick="saveForm()">Save</button>

<p id="jsonout"></p>

<h2>Developers</h2>

<p id="devjson"></p>

<button onclick="clearLocalData()">Clear data</button>

<script>
var formitems = 0;

document.getElementById("devjson").innerHTML = localStorage.dev;

function saveForm() {

  formitems = document.getElementById("scoutform").elements.length;


  var textjson = '[';
  for (var i = 0; i < formitems; i++) {
    if (document.getElementById("scoutform").elements[i].type.toLowerCase() == 'radio'){
      textjson = textjson + document.getElementById("scoutform").elements[i].checked + ", ";
    }else{
    textjson = textjson + getTextNumber(i) + ", ";
  }
  }
  textjson = textjson.slice(0,-2) + '],';
  document.getElementById("jsonout").innerHTML = textjson;

  if(typeof localStorage.dev !== 'undefined'){}else {
    localStorage.dev = '';
  }
localStorage.dev = localStorage.dev + textjson;
printDevData();


}

function getTextNumber(n){
  return '"' + document.getElementById("scoutform").elements[n].value + '"';
}

function clearLocalData(){

localStorage.dev = '';
printDevData();
}

function printDevData(){
  var localS = localStorage.dev;
document.getElementById("devjson").innerHTML = '[' + localS.slice(0,-1) + ']';
}
</script>
